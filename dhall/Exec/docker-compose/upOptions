-- vim: filetype=dhall

let CommandWrapper = ../../CommandWrapper/Types.dhall

let commandWrapper = ../../CommandWrapper/package.dhall

let emptyArguments = commandWrapper.command.emptyArguments

let UpOptions = ./UpOptions

in    λ(colourOutput : CommandWrapper.ColourOutput)
    → λ(mkOptions : UpOptions)
    → let options = mkOptions colourOutput
      
      in    Optional/fold
              Bool
              options.buildImages
              (List Text)
              (λ(_ : Bool) → if _ then [ "--build" ] else [ "--no-build" ])
              emptyArguments
          # (if options.noColour then [ "--no-colour" ] else emptyArguments)
          # (if options.detach then [ "--detach" ] else emptyArguments)
